server {
    listen 80;
    server_name 194.87.56.15;

    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    server_name 194.87.56.15;

    ssl_certificate /DevOps1/lab1/web_serv/cert/nginx-selfsigned.crt;
    ssl_certificate_key /DevOps1/lab1/web_serv/cert/nginx-selfsigned.key;

    root /DevOps1/lab1/site1;
    index first_file.html;

    location / {
        try_files $uri $uri/ =404; 
    }

    location /second {
        alias /DevOps1/lab1/site2/;  
        try_files second_file.html =404;
        default_type text/html;
    }   

    location /second.html {
    alias /DevOps1/lab1/site2/second_file.html; 
    }
}

server {
    listen 443 ssl;
    server_name 194.87.56.77;

    ssl_certificate /DevOps1/lab1/web_serv/cert/nginx-selfsigned.crt;
    ssl_certificate_key /DevOps1/lab1/web_serv/cert/nginx-selfsigned.key;

    root /DevOps1/lab1/site2;
    index second_file.html;

    location / {
        try_files $uri $uri/ =404;
    }
    
}
